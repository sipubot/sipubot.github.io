var SipuMain=function(l,b,u){function m(){function a(a){var b=(new Date).getDay();if(0<b&&5>=b)switch(!0){case 7>a:return f++,f+" sheep... zzZ";case 18>a&&7<=a:return f=0,"Mining Coin";case 18<=a&&21>a:return"Exercise";case 21<=a:return"FreeTime on Week!"}else switch(!0){case 7>a:return f++,f+" sheep... zzZ";case 7<=a:return f=0,"Weekend Plan!"}}var f=0,b=document.getElementById("lifetime"),d=document.getElementById("lifeplace");setInterval(function(){var f=new Date-new Date("2015-01-01"),e=(new Date).getUTCHours();
b.innerHTML=1089658152+Math.floor(f/1E3);d.innerHTML=a(-1<e&&14>e?e+9:e-15)},1E3)}function n(){b.getJSON(h.MASTER_URL+"json/dataperson.json",function(a){var f=a.map(function(a){return+a.WAdata}).slice(0,7),e=[50,20,10,5,3,2],d=Array.apply(null,Array(6)).map(function(a,b){return 10<=f[b]-f[b+1]?e[b]:0}).reduce(function(a,b){return a+b},0),c=[Math.round(+a[0].PAdata/53),Math.round(+a[0].GAdata/53),Math.round(d/53)];a=b(".Status > li");b.each(a,function(a,f){b(f).css("background-image","url(/icon/"+
h.IMOJI_LIST[c[a]]+")");b(f).css("background-color",h.IMOJI_BACK[c[a]])})})}var h={MASTER_URL:"",IMOJI_LIST:["status-sad.png","status-nom.png","status-hap.png"],IMOJI_BACK:["#ef6f45","#c0c0c0","#94de59"]},k={OnlyChar:function(a){return a=a.replace(/[^(\uac00-\ud7a3\u3131-\u314e\u314f-\u3163a-zA-Z0-9)]/gi,"")},OutSpecial:function(a){return a=a.replace(/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@#$%&\\=\('"]/gi,"")},OnlyNumber:function(a){return a=a.replace(/[^\d\.]/g,"")},RemoveQuot:function(a){return a=a.replace(/'/g,
"&apos;").replace(/"/g,"&quot;")},RemoveJQ:function(a){return a=a.replace(".","").replace("#","")},UrlLinker:function(a){return a.replace(/(https?:\/\/[^\s]+)/g,function(a){return'<a href="'+a+'" target="_blank">&#128279</a>'})}},d={init:function(){for(var a=document.getElementsByTagName("*"),b="None",e,c=0;c<a.length;c++)if(a[c].hasAttribute("data-node")||null!==a[c].getAttribute("data-node"))0<a[c].getAttribute("data-node").length&&(b=a[c].getAttribute("data-node")),e=a[c].tagName,d[e]||(d[e]={}),
d[e][b]||(d[e][b]=[]),d[e][b].push(a[c])},log:function(){console.log(this)}};d.init();var c={LINK:{MASTER:h.MASTER_URL},RQLINK:"",RQTYPE:"POST",RQDATA:{TIMELINE:""},rqPermit:!0,rQCallbackMethod:{},rQMethod:{},rqQ:function(a){if(!c.rqPermit)return!1;b.ajax({url:c.RQLINK,type:c.RQTYPE,data:c.RQDATA,beforeSend:function(a){a.overrideMimeType&&a.overrideMimeType("application/json")},dataType:"json",scriptCharset:"utf-8",error:function(a,b,c){console.log(a)}}).done(function(b){if("function"===typeof c.rQCallbackMethod[a])c.rQCallbackMethod[a](b)}).fail(function(){console.log("\uc1a1\uc218\uc2e0 \uc2e4\ud328")})},
rQMethodSet:function(a,b,e,d){c.rQMethod[a]=function(){c.RQLINK=c.LINK.MASTER+b;c.RQDATA.RQ=a;e();c.rqQ(a)};c.rQCallbackMethod[a]=d},init:function(){},log:function(){console.log(this)}},g={BUTTON:{},INPUT:{},setClick:function(a,c){b.each(d.BUTTON[a],function(a){b(this).click(function(){c()})})},setEnter:function(a,c){b.each(d.INPUT[a],function(a){b(this).keydown(function(a){13==a.which&&c()})})},setTrigger:function(){},initFunc:{},init:function(){b.each(g.initFunc,function(a,b){"function"===typeof g.initFunc[a]&&
b.apply()})},trigger:function(){this.setTrigger()},log:function(){console.log(this)}},p=function(a){b(d.UL.App).empty();b.each(a,function(a,c){b(d.UL.App).append('<li style="background-image : url('+c.ImageLink+')"><a href="'+c.Link+'" title="'+c.Title+'" target="_blank"></a></li>')})},q=function(a){b(d.UL.Link).empty();b.each(a,function(a,c){b(d.UL.Link).append('<li style="background-image : url('+c.ImageLink+')"><a href="'+c.Link+'" title="'+c.Title+'" target="_blank"></a></li>')})},r=function(a){b(d.UL.Board).empty();
b.each(a,function(a,c){10>a&&b(d.UL.Board).append("<li>"+k.UrlLinker(c.Qut)+"<time>"+c.Time+"</time></li>")})},t=function(a){b(d.SPAN.Bio).empty();b(d.SPAN.Bio).html(a[0].Qut)};c.rQMethodSet("BoardInsert","/QutInsert",function(){c.RQDATA.TIMELINE=k.RemoveQuot(b(d.TEXTAREA.BoardInsert).val())},function(){b(d.UL.Board).prepend("<li>"+k.UrlLinker(b(d.TEXTAREA.BoardInsert).val())+"<time>now</time></li>");b(d.TEXTAREA.BoardInsert).val("")});g.setClick("BoardInsert",function(){if(2>b(d.TEXTAREA.BoardInsert).val().length)return!1;
c.rQMethod.BoardInsert()});g.initFunc.Bio=function(){b.getJSON(h.MASTER_URL+"data/datamain.json",t)};g.initFunc.App=function(){b.getJSON(h.MASTER_URL+"data/dataapp.json",p)};g.initFunc.Link=function(){b.getJSON(h.MASTER_URL+"data/datalink.json",q)};g.initFunc.Board=function(){b.getJSON(h.MASTER_URL+"data/databoard.json",r)};g.initFunc.Profile=function(){m();n()};l.run=function(){c.init();g.init()};return l}(window.SipuMain||{},jQuery);SipuMain.run();